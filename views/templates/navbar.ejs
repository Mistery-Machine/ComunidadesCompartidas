<!-- views/templates/navbar.ejs -->
<link rel="stylesheet" href="/css/navbar.css" />

<header>
  <nav class="barra-navegacion">
    <div class="contenedor-navegacion">
      <a href="/" class="logo-navegacion">Comunidades Conectadas</a>
      <ul class="navegacion-principal">
        <li class="elemento-navegacion">
          <a href="/" class="enlace-navegacion">Inicio</a>
        </li>
        <li class="elemento-navegacion menu-desplegable">
          <a href="#" class="enlace-navegacion desplegable-toggle">Comunidad</a>
          <div class="submenu-desplegable">
            <% if (isAuthenticated) { %>
            <a href="/calendario" class="elemento-desplegable"
              >Calendario de Eventos</a
            >
            <% } %>
            <a href="/mapa" class="elemento-desplegable">Mapa Interactivo</a>
            <% if (isAdmin) { %>
            <a href="/reportes" class="elemento-desplegable"
              >Reportes y Sugerencias</a
            >
            <% } %>
          </div>
        </li>
        <li class="elemento-navegacion menu-desplegable">
          <a href="#" class="enlace-navegacion desplegable-toggle">Explorar</a>
          <div class="submenu-desplegable">
            <a href="/anuncios" class="elemento-desplegable">Anuncios</a>
            <a href="/pagina-eventos" class="elemento-desplegable">Eventos</a>
            <a href="/emprendimientos" class="elemento-desplegable"
              >Emprendimientos</a
            >
          </div>
        </li>
        <li class="elemento-navegacion menu-desplegable">
          <a href="#" class="enlace-navegacion desplegable-toggle"
            >Transporte</a
          >
          <div class="submenu-desplegable">
            <a href="/listado-rutas" class="elemento-desplegable"
              >Listado de Rutas</a
            >
          </div>
        </li>
        <% if (isAdmin) { %>
        <li class="elemento-navegacion menu-desplegable">
          <a href="#" class="enlace-navegacion desplegable-toggle">Creacion</a>
          <div class="submenu-desplegable">
            <a href="/formulario-eventos" class="elemento-desplegable"
              >Crear Evento</a
            >
            <a href="/formulario-anuncio" class="elemento-desplegable"
              >Crear Anuncio</a
            >
            <a href="/formulario-emprendimiento" class="elemento-desplegable"
              >Crear Emprendimiento</a
            >
            <a href="/formulario-ruta" class="elemento-desplegable"
              >Crear Ruta</a
            >
          </div>
        </li>
        <% } %> <% if (isAuthenticated) { %>
        <li class="elemento-navegacion menu-desplegable">
          <a href="#" class="enlace-navegacion desplegable-toggle">Panel</a>
          <div class="submenu-desplegable">
            <% if (isAdmin) { %>
            <a href="/dashboard" class="elemento-desplegable">Dashboard</a>
            <a href="/ver-reportes" class="elemento-desplegable"
              >Ver Reportes</a
            >
            <% } %>
          </div>
        </li>
        <li class="elemento-navegacion">
          <form action="/logout" method="POST" class="logout-form">
            <button type="submit" class="enlace-navegacion logout-btn">
              Cerrar Sesión
            </button>
          </form>
        </li>
        <% } else { %>
        <li class="elemento-navegacion">
          <a href="/login" class="enlace-navegacion">Iniciar Sesión</a>
        </li>
        <li class="elemento-navegacion">
          <a href="/register" class="enlace-navegacion">Registrarse</a>
        </li>
        <% } %>
      </ul>
      <div class="seccion-usuario">
        <% if (isAuthenticated) { %>
        <div class="info-usuario">
          <div class="avatar-usuario">
            <%= usuario.nombre.charAt(0).toUpperCase() %>
          </div>
          <span class="correo-usuario"
            ><%= usuario.nombre %> (<%= usuario.rol %>)</span
          >
        </div>
        <% } else { %>
        <div class="info-usuario">
          <div class="avatar-usuario">?</div>
          <span class="correo-usuario">No autenticado</span>
        </div>
        <% } %>
      </div>
    </div>
  </nav>
</header>
